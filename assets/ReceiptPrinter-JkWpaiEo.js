import{V as e,jt as t,z as n}from"./index-D5xtHDuG.js";import"./Shared-CEi_3vw0.js";import{n as r}from"./SDK-CcB7I40a.js";import{t as i}from"./Common-_aDISHwp.js";var a=t(),o=n();function s({gridSize:t}){let n=new Date().toLocaleDateString(`en-US`,{weekday:`short`,year:`numeric`,month:`short`,day:`numeric`}),s=new Date().toLocaleTimeString(`en-US`,{hour:`2-digit`,minute:`2-digit`}),c=t?.w||2,l=t?.h||1,[u,d]=r(`receipt-tasks`,[{id:1,text:`Wake Up & Hydrate`,check:!0},{id:2,text:`Morning Yoga`,check:!0},{id:3,text:`Read 30 mins`,check:!1},{id:4,text:`Write Implementation`,check:!0}]),[f,p]=(0,a.useState)(``),[m,h]=(0,a.useState)(!1),g=e=>{d(t=>t.map(t=>t.id===e?{...t,check:!t.check}:t))},_=()=>{f.trim()&&(d(e=>[...e,{id:Date.now(),text:f,check:!1}]),p(``),h(!1))},v=e=>{d(t=>t.filter(t=>t.id!==e))},y=c===1,b=c>=3,x=l>=2,S=y?u.slice(0,2):x?u:u.slice(0,4);return y&&!x?(0,o.jsx)(i,{className:`bg-transparent border-none shadow-none p-0 overflow-visible group flex items-center justify-center`,children:(0,o.jsxs)(`div`,{className:`w-full h-auto bg-white text-black font-mono text-[9px] p-2 shadow-md relative rotate-[-2deg] group-hover:rotate-0 transition-transform`,children:[(0,o.jsx)(`div`,{className:`text-center border-b border-black pb-1 mb-1`,children:(0,o.jsx)(`span`,{className:`font-bold`,children:`* MEMO *`})}),(0,o.jsxs)(`div`,{className:`flex justify-between mb-1`,children:[(0,o.jsx)(`span`,{children:`DONE`}),(0,o.jsx)(`span`,{children:u.filter(e=>e.check).length})]}),(0,o.jsxs)(`div`,{className:`flex justify-between`,children:[(0,o.jsx)(`span`,{children:`LEFT`}),(0,o.jsx)(`span`,{children:u.filter(e=>!e.check).length})]}),(0,o.jsx)(`div`,{className:`mt-2 text-center text-[7px] opacity-60`,children:`KEEP FIGHTING`})]})}):(0,o.jsx)(i,{className:`bg-transparent border-none shadow-none p-0 overflow-visible group`,children:(0,o.jsx)(`div`,{className:`relative w-full h-full flex flex-col items-center justify-start pt-1`,children:(0,o.jsxs)(`div`,{className:`w-full bg-white text-black font-mono text-[10px] p-4 shadow-lg relative transition-transform duration-300 min-h-full`,children:[(0,o.jsxs)(`div`,{className:`flex flex-col items-center mb-4`,children:[(0,o.jsx)(`h3`,{className:`text-xl font-bold tracking-tighter mb-1 uppercase`,children:`* MY DAY *`}),(0,o.jsx)(`p`,{className:`text-[8px] opacity-60`,children:`USER ID #SJ-2024`}),(0,o.jsxs)(`p`,{className:`text-[8px] opacity-60`,children:[n,` `,s]})]}),(0,o.jsx)(`div`,{className:`w-full border-t border-dashed border-black/30 my-2`}),(0,o.jsxs)(`div`,{className:`space-y-1 w-full`,children:[S.map((e,t)=>(0,o.jsxs)(`div`,{className:`flex justify-between items-start group/item`,children:[(0,o.jsxs)(`button`,{onClick:()=>g(e.id),className:`flex-1 text-left truncate pr-2 uppercase hover:underline ${e.check?`line-through opacity-50`:``}`,children:[t+1,`. `,e.text]}),(0,o.jsxs)(`div`,{className:`flex items-center gap-1`,children:[(0,o.jsx)(`button`,{onClick:()=>g(e.id),children:e.check?`[OK]`:`[  ]`}),(0,o.jsx)(`button`,{onClick:()=>v(e.id),className:`opacity-0 group-hover/item:opacity-100 text-red-500 hover:text-red-700 font-bold ml-1`,children:`x`})]})]},e.id)),m?(0,o.jsxs)(`div`,{className:`flex items-center gap-1 mt-2`,children:[(0,o.jsx)(`input`,{autoFocus:!0,className:`w-full text-[10px] border-b border-black outline-none bg-transparent`,value:f,onChange:e=>p(e.target.value),onKeyDown:e=>e.key===`Enter`&&_(),placeholder:`New Task...`}),(0,o.jsx)(`button`,{onClick:()=>h(!1),children:(0,o.jsx)(e,{size:10})})]}):!y&&u.length<10&&(0,o.jsx)(`button`,{onClick:()=>h(!0),className:`w-full text-center hover:bg-black/5 py-1 mt-1 opacity-50 hover:opacity-100 transition-opacity`,children:`+ ADD ITEM`}),!x&&u.length>4&&(0,o.jsxs)(`div`,{className:`text-center text-[8px] opacity-50 mt-1`,children:[`... and `,u.length-4,` more`]})]}),(0,o.jsx)(`div`,{className:`w-full border-t border-dashed border-black/30 my-2`}),(0,o.jsxs)(`div`,{className:`flex justify-between font-bold text-xs`,children:[(0,o.jsx)(`span`,{children:`PROGRESS`}),(0,o.jsxs)(`span`,{children:[Math.round((u.length>0?u.filter(e=>e.check).length/u.length:0)*100),`%`]})]}),(x||b)&&(0,o.jsxs)(`div`,{className:`mt-4 text-center`,children:[(0,o.jsx)(`p`,{className:`text-[8px] mb-2`,children:`THANK YOU FOR YOUR EFFORT`}),(0,o.jsx)(`div`,{className:`h-8 w-3/4 mx-auto flex items-end gap-[2px] justify-center opacity-80`,children:[...Array(20)].map((e,t)=>(0,o.jsx)(`div`,{className:`bg-black h-full`,style:{width:Math.random()>.5?`2px`:`4px`}},t))}),(0,o.jsx)(`p`,{className:`text-[7px] mt-1 tracking-[4px]`,children:`1234 5678`})]}),(0,o.jsx)(`div`,{className:`absolute -bottom-2 left-0 w-full h-3 bg-white`,style:{maskImage:`linear-gradient(45deg, transparent 33.33%, #000 33.33%, #000 66.66%, transparent 66.66%), linear-gradient(-45deg, transparent 33.33%, #000 33.33%, #000 66.66%, transparent 66.66%)`,maskSize:`10px 20px`,maskRepeat:`repeat-x`,WebkitMaskImage:`linear-gradient(45deg, transparent 33.33%, #000 33.33%, #000 66.66%, transparent 66.66%), linear-gradient(-45deg, transparent 33.33%, #000 33.33%, #000 66.66%, transparent 66.66%)`,WebkitMaskSize:`10px 10px`,WebkitMaskRepeat:`repeat-x`,background:`white`}})]})})})}export{s as ReceiptPrinter};