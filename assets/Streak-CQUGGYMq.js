import{L as e,Nt as t,Ot as n,jt as r,z as i}from"./index-D5xtHDuG.js";import{t as a}from"./Shared-CEi_3vw0.js";var o=n(`flame`,[[`path`,{d:`M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4`,key:`1slcih`}]]),s=t(r(),1),c=i();const l=s.memo(function({gridSize:t}){let n=(t?.w||2)<2,[r,i]=(0,s.useState)(0);(0,s.useEffect)(()=>{(async()=>{try{let t=localStorage.getItem(`accessToken`);if(!t)return;let n=await e.get(`/api/user/profile`,{headers:{Authorization:`Bearer ${t}`}});n.data&&typeof n.data.streakDays==`number`&&i(n.data.streakDays)}catch(e){console.error(`Failed to fetch streak data:`,e)}})()},[]);let l=Math.min(r,7),u=r>7;return n?(0,c.jsx)(a,{className:`bg-gradient-to-br from-orange-400 to-orange-600 border-none p-0`,children:(0,c.jsxs)(`div`,{className:`w-full h-full flex flex-col items-center justify-center text-white relative`,children:[(0,c.jsx)(o,{className:`w-8 h-8 mb-1 transition-all duration-300 ${r>0?`animate-pulse fill-white`:`opacity-50`}`}),(0,c.jsxs)(`div`,{className:`flex items-baseline gap-0.5`,children:[(0,c.jsx)(`span`,{className:`text-3xl font-black leading-none tracking-tighter shadow-sm`,children:r}),u&&(0,c.jsx)(`span`,{className:`text-[10px] font-bold`,children:`+`})]}),(0,c.jsx)(`span`,{className:`text-[9px] opacity-80 font-bold uppercase mt-0.5`,children:`Days`}),(0,c.jsx)(`div`,{className:`absolute bottom-3 w-3/4 flex gap-0.5 h-1`,children:[...Array(7)].map((e,t)=>(0,c.jsx)(`div`,{className:`flex-1 rounded-full transition-colors duration-300 ${t<l?`bg-white`:`bg-black/10`}`},t))})]})}):(0,c.jsx)(a,{className:`bg-gradient-to-br from-orange-400 to-orange-600 border-none`,children:(0,c.jsxs)(`div`,{className:`w-full h-full flex flex-row items-center justify-between px-6 py-2 text-white`,children:[(0,c.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,c.jsx)(`div`,{className:`relative`,children:(0,c.jsx)(o,{className:`w-10 h-10 transition-colors duration-300 ${r>0?`animate-pulse fill-white`:`opacity-50`}`})}),(0,c.jsxs)(`div`,{className:`flex flex-col`,children:[(0,c.jsx)(`span`,{className:`text-xs font-bold opacity-80 uppercase`,children:`Streak`}),(0,c.jsxs)(`div`,{className:`flex items-baseline gap-1`,children:[(0,c.jsx)(`span`,{className:`text-3xl font-black leading-none tracking-tighter shadow-sm`,children:r}),(0,c.jsx)(`span`,{className:`text-sm font-bold opacity-90`,children:`Days`})]})]})]}),(0,c.jsxs)(`div`,{className:`flex flex-col items-end gap-1`,children:[(0,c.jsx)(`span`,{className:`text-[10px] font-bold opacity-75`,children:`Target 7 Days`}),(0,c.jsx)(`div`,{className:`flex gap-1`,children:[...Array(7)].map((e,t)=>{let n=t<l,r=`bg-black/10`;return n&&(r=t<2?`bg-white/60`:t<4?`bg-white/80`:`bg-white`),(0,c.jsx)(`div`,{className:`w-2 h-6 rounded-sm transition-colors duration-300 ${r}`},t)})})]})]})})});export{l as StreakWidget};