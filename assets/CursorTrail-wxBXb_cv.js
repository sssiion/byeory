import{t as e}from"./SharedController-C6uhZVoO.js";import{At as t,Nt as n,V as r,Y as i,jt as a,z as o}from"./index-D5xtHDuG.js";import"./Shared-CEi_3vw0.js";var s=n(a(),1),c=t(),l=o(),u=[{id:`sparkles`,label:`Sparkles`,icon:`âœ¨`},{id:`bubbles`,label:`Bubbles`,icon:`.ã€‚`},{id:`stars`,label:`Stars`,icon:`â­`},{id:`rainbow`,label:`Rainbow`,icon:`ðŸŒˆ`},{id:`snow`,label:`Snow`,icon:`â„ï¸`},{id:`fire`,label:`Fire`,icon:`ðŸ”¥`}],d=()=>{let e=(0,s.useRef)(null),t=(0,s.useRef)(0),n=(0,s.useRef)([]),r=(0,s.useRef)({x:0,y:0}),[i,a]=(0,s.useState)(()=>localStorage.getItem(`cursor-trail-style`)||`sparkles`);(0,s.useEffect)(()=>{let e=setInterval(()=>{let e=localStorage.getItem(`cursor-trail-style`);e&&e!==i&&a(e)},500);return()=>clearInterval(e)},[i]);let o=(e,t,n)=>{let r=Math.random();switch(n){case`bubbles`:return{x:e,y:t,vx:(r-.5)*1,vy:-r*2-.5,life:1,color:`rgba(255, 255, 255, ${.3+r*.3})`,size:r*6+2};case`stars`:return{x:e,y:t,vx:(r-.5)*1.5,vy:(r-.5)*1.5,life:1,color:`hsl(${40+r*20}, 100%, 70%)`,size:r*4+2,type:`star`};case`rainbow`:return{x:e,y:t,vx:(r-.5)*2,vy:(r-.5)*2,life:1,color:`hsl(${Math.random()*360}, 80%, 60%)`,size:r*4+2};case`snow`:return{x:e,y:t,vx:(r-.5)*1,vy:r*2+1,life:1.2,color:`white`,size:r*3+1};case`fire`:return{x:e,y:t,vx:(r-.5)*1,vy:-r*3-1,life:.8,color:`hsl(${r*40}, 100%, 60%)`,size:r*5+3};case`sparkles`:default:return{x:e,y:t,vx:(r-.5)*2,vy:(r-.5)*2,life:1,color:`hsl(${r*360}, 70%, 80%)`,size:r*3+1}}};return(0,s.useEffect)(()=>{let a=e=>{r.current={x:e.clientX,y:e.clientY};let t=i===`fire`||i===`snow`?3:2;for(let r=0;r<t;r++)n.current.push(o(e.clientX,e.clientY,i))};window.addEventListener(`mousemove`,a);let s=()=>{let r=e.current;if(!r)return;let a=r.getContext(`2d`);if(a){a.clearRect(0,0,r.width,r.height);for(let e=n.current.length-1;e>=0;e--){let t=n.current[e];if(t.x+=t.vx,t.y+=t.vy,t.life-=.02,t.life<=0){n.current.splice(e,1);continue}if(a.globalAlpha=t.life,a.fillStyle=t.color,i===`stars`||t.type===`star`){a.save(),a.translate(t.x,t.y),a.beginPath();for(let e=0;e<5;e++)a.lineTo(Math.cos((18+e*72)*Math.PI/180)*t.size,-Math.sin((18+e*72)*Math.PI/180)*t.size),a.lineTo(Math.cos((54+e*72)*Math.PI/180)*(t.size/2),-Math.sin((54+e*72)*Math.PI/180)*(t.size/2));a.closePath(),a.fill(),a.restore()}else i===`bubbles`?(a.strokeStyle=t.color,a.beginPath(),a.arc(t.x,t.y,t.size,0,Math.PI*2),a.stroke()):(a.beginPath(),a.arc(t.x,t.y,t.size,0,Math.PI*2),a.fill())}t.current=requestAnimationFrame(s)}},c=()=>{e.current&&(e.current.width=window.innerWidth,e.current.height=window.innerHeight)};return window.addEventListener(`resize`,c),c(),s(),()=>{window.removeEventListener(`mousemove`,a),window.removeEventListener(`resize`,c),cancelAnimationFrame(t.current)}},[i]),(0,c.createPortal)((0,l.jsx)(`canvas`,{ref:e,className:`fixed inset-0 pointer-events-none z-[9999]`}),document.body)};const f=({className:t,style:n,gridSize:a})=>{let[o,f]=(0,s.useState)(!1),[p,m]=(0,s.useState)(()=>localStorage.getItem(`cursor-trail-style`)||`sparkles`),h=e=>{m(e),localStorage.setItem(`cursor-trail-style`,e)};return(0,l.jsx)(e,{className:t,style:n,label:`ì»¤ì„œ íŠ¸ë ˆì¼`,icon:(0,l.jsx)(i,{size:20}),storageKey:`effect-cursor-trail`,onSettingsClick:()=>f(!0),children:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d,{}),o&&(0,c.createPortal)((0,l.jsx)(`div`,{className:`fixed inset-0 z-[10000] flex items-center justify-center bg-black/50`,onClick:()=>f(!1),children:(0,l.jsxs)(`div`,{className:`bg-white rounded-2xl p-6 w-[320px] shadow-2xl animate-scale-in`,onClick:e=>e.stopPropagation(),children:[(0,l.jsxs)(`div`,{className:`flex justify-between items-center mb-6`,children:[(0,l.jsxs)(`h3`,{className:`text-lg font-bold text-gray-800 flex items-center gap-2`,children:[(0,l.jsx)(i,{className:`text-yellow-400`}),`Trail Style`]}),(0,l.jsx)(`button`,{onClick:()=>f(!1),className:`text-gray-400 hover:text-gray-600`,children:(0,l.jsx)(r,{size:20})})]}),(0,l.jsx)(`div`,{className:`grid grid-cols-3 gap-3`,children:u.map(e=>(0,l.jsxs)(`button`,{onClick:()=>h(e.id),className:`flex flex-col items-center justify-center gap-2 p-3 rounded-xl border transition-all ${p===e.id?`border-blue-500 bg-blue-50 text-blue-600 shadow-sm`:`border-gray-200 hover:bg-gray-50 text-gray-600`}`,children:[(0,l.jsx)(`div`,{className:`text-2xl`,children:e.icon}),(0,l.jsx)(`span`,{className:`text-xs font-medium`,children:e.label})]},e.id))}),(0,l.jsx)(`div`,{className:`mt-6 pt-4 border-t border-gray-100 flex justify-end`,children:(0,l.jsx)(`button`,{onClick:()=>f(!1),className:`px-4 py-2 bg-gray-900 text-white rounded-lg text-sm font-medium hover:bg-black transition-colors`,children:`Done`})})]})}),document.body)]})})};export{f as CursorTrail};