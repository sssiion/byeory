import{at as e,gt as t,jt as n,z as r}from"./index-D5xtHDuG.js";import"./Shared-CEi_3vw0.js";import{n as i}from"./SDK-CcB7I40a.js";import{t as a}from"./Common-_aDISHwp.js";var o=n(),s=r();function c({gridSize:n}){let[r,c]=i(`widget-palette-colors`,[`#FFD166`,`#06D6A0`,`#118AB2`,`#EF476F`,`#073B4C`]),[l,u]=(0,o.useState)(null),d=(0,o.useRef)(null),f=e=>{let t=e.target.files?.[0];if(t){let e=new FileReader;e.onload=e=>{let t=new Image;t.onload=()=>p(t),t.src=e.target?.result,u(e.target?.result)},e.readAsDataURL(t)}},p=e=>{let t=d.current;if(!t)return;let n=t.getContext(`2d`);if(!n)return;t.width=100,t.height=100,n.drawImage(e,0,0,100,100);let r=n.getImageData(0,0,100,100).data,i={};for(let e=0;e<r.length;e+=40){let t=r[e],n=r[e+1],a=r[e+2],o=`#${((1<<24)+(t<<16)+(n<<8)+a).toString(16).slice(1)}`;i[o]=(i[o]||0)+1}let a=Object.entries(i).sort((e,t)=>t[1]-e[1]).slice(0,5).map(e=>e[0]);for(;a.length<5;)a.push(`#cccccc`);c(a)},m=e=>{navigator.clipboard.writeText(e)};return(n?.w||2)===1?(0,s.jsx)(a,{className:`bg-white dark:bg-zinc-800 border-zinc-200 flex flex-col items-center justify-center p-2`,children:(0,s.jsx)(`div`,{className:`flex flex-wrap gap-1 justify-center w-full h-full content-center`,children:r.slice(0,4).map((e,t)=>(0,s.jsx)(`div`,{className:`w-5 h-5 rounded-full shadow-sm border border-black/5`,style:{backgroundColor:e}},t))})}):(0,s.jsxs)(a,{className:`bg-white dark:bg-zinc-900 border-zinc-200 dark:border-zinc-800 p-0 flex flex-col`,children:[(0,s.jsx)(`canvas`,{ref:d,className:`hidden`}),(0,s.jsxs)(`div`,{className:`h-[40%] bg-zinc-100 relative group overflow-hidden`,children:[l?(0,s.jsx)(`img`,{src:l,alt:`Source`,className:`w-full h-full object-cover`}):(0,s.jsxs)(`div`,{className:`w-full h-full flex items-center justify-center text-zinc-400 gap-2`,children:[(0,s.jsx)(e,{size:20}),(0,s.jsx)(`span`,{className:`text-xs`,children:`Upload Image`})]}),(0,s.jsx)(`input`,{type:`file`,className:`absolute inset-0 opacity-0 cursor-pointer`,accept:`image/*`,onChange:f})]}),(0,s.jsxs)(`div`,{className:`flex-1 p-3 flex flex-col justify-center gap-2`,children:[(0,s.jsx)(`div`,{className:`flex gap-2 h-12 w-full`,children:r.map((e,n)=>(0,s.jsx)(`div`,{className:`flex-1 rounded-md shadow-sm border border-black/5 relative group cursor-pointer transition-transform hover:-translate-y-1`,style:{backgroundColor:e},onClick:()=>m(e),title:e,children:(0,s.jsx)(`div`,{className:`absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 bg-black/20 text-white rounded-md`,children:(0,s.jsx)(t,{size:12})})},n))}),(0,s.jsx)(`div`,{className:`flex justify-between text-[10px] text-zinc-400 font-mono px-1`,children:r.map((e,t)=>(0,s.jsx)(`span`,{children:e.toUpperCase()},t))})]})]})}export{c as ColorPalette};