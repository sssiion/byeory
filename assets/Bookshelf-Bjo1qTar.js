import{jt as e,nt as t,z as n}from"./index-D5xtHDuG.js";import"./Shared-CEi_3vw0.js";import{t as r}from"./Common-_aDISHwp.js";var i=e(),a=n(),o=[`bg-red-700`,`bg-blue-800`,`bg-green-800`,`bg-amber-900`,`bg-slate-700`,`bg-stone-600`,`bg-indigo-900`,`bg-teal-800`];function s({gridSize:e}){let n=(e?.w||2)<2,[s,c]=(0,i.useState)(()=>{let e=localStorage.getItem(`bookshelf_data`);return e?JSON.parse(e):[{id:1,title:`My Diary`,color:`bg-blue-900`,height:85}]}),[l,u]=(0,i.useState)(!1),[d,f]=(0,i.useState)(``),p=()=>{if(!d.trim())return;let e={id:Date.now(),title:d,color:o[Math.floor(Math.random()*o.length)],height:75+Math.floor(Math.random()*20)},t=[...s,e];c(t),localStorage.setItem(`bookshelf_data`,JSON.stringify(t)),f(``),u(!1)},m=e=>{let t=s.filter(t=>t.id!==e);c(t),localStorage.setItem(`bookshelf_data`,JSON.stringify(t))};if(n){let e=s[0]||{id:0,title:`No Book`,color:`bg-gray-400`,height:90};return(0,a.jsx)(r,{className:`bg-[#f0e6d2] dark:bg-[#2a2318] border-none p-2 flex items-center justify-center relative shadow-inner`,children:(0,a.jsxs)(`div`,{className:`w-16 h-24 ${e.color} rounded-sm shadow-md flex items-center justify-center relative cursor-pointer hover:scale-105 transition-transform`,title:e.title,children:[(0,a.jsx)(`div`,{className:`absolute left-1 top-0 bottom-0 w-[1px] bg-white/20`}),(0,a.jsx)(`div`,{className:`absolute top-2 left-0 right-0 h-[2px] bg-white/10`}),(0,a.jsx)(`span`,{className:`text-[10px] text-white/90 font-serif font-bold whitespace-nowrap rotate-90 truncate w-20 text-center block`,children:e.title})]})})}return(0,a.jsxs)(r,{className:`bg-[#f0e6d2] dark:bg-[#2a2318] border-none p-0 relative shadow-inner`,children:[(0,a.jsx)(`div`,{className:`absolute inset-0 opacity-20 bg-[url('https://www.transparenttextures.com/patterns/wood-pattern.png')]`}),(0,a.jsx)(`div`,{className:`absolute bottom-0 left-0 right-0 h-3 bg-[#8b5a2b] shadow-lg z-20`}),(0,a.jsxs)(`div`,{className:`w-full h-full p-2 flex items-end overflow-x-auto gap-0.5 relative z-10 hide-scrollbar pb-3`,children:[(0,a.jsx)(`div`,{className:`h-[70%] min-w-[24px] bg-stone-300/20 rounded-sm border-2 border-dashed border-stone-400/50 flex items-center justify-center cursor-pointer hover:bg-stone-300/40 transition-colors shrink-0`,onClick:()=>u(!l),children:(0,a.jsx)(t,{size:14,className:`text-stone-500`})}),l&&(0,a.jsxs)(`div`,{className:`absolute top-2 left-2 right-2 bg-white p-2 rounded shadow-xl z-50 flex gap-1 border border-stone-200`,children:[(0,a.jsx)(`input`,{autoFocus:!0,placeholder:`Book Title`,className:`flex-1 text-xs px-1 border border-gray-300 rounded`,value:d,onChange:e=>f(e.target.value),onKeyDown:e=>e.key===`Enter`&&p()}),(0,a.jsx)(`button`,{onClick:p,className:`bg-blue-600 text-white text-[10px] px-2 rounded`,children:`ADD`})]}),s.map(e=>(0,a.jsxs)(`div`,{className:`w-6 sm:w-8 relative rounded-sm shadow-md transition-transform hover:-translate-y-1 cursor-pointer group shrink-0 ${e.color}`,style:{height:`${e.height}%`},onDoubleClick:()=>m(e.id),title:e.title,children:[(0,a.jsx)(`div`,{className:`absolute left-1 top-0 bottom-0 w-[1px] bg-white/20`}),(0,a.jsx)(`div`,{className:`absolute top-2 left-0 right-0 h-[2px] bg-white/10`}),(0,a.jsx)(`div`,{className:`w-full h-full flex items-center justify-center overflow-hidden`,children:(0,a.jsx)(`span`,{className:`text-[8px] text-white/80 font-serif font-bold whitespace-nowrap rotate-90 truncate max-w-[150%]`,children:e.title})})]},e.id))]})]})}export{s as Bookshelf};