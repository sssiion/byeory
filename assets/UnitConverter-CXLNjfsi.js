import{Et as e,Ot as t,jt as n,z as r}from"./index-D5xtHDuG.js";import{n as i}from"./SDK-CcB7I40a.js";var a=t(`arrow-down-up`,[[`path`,{d:`m3 16 4 4 4-4`,key:`1co6wj`}],[`path`,{d:`M7 20V4`,key:`1yoxec`}],[`path`,{d:`m21 8-4-4-4 4`,key:`1c9v7m`}],[`path`,{d:`M17 4v16`,key:`7dpous`}]]),o=n(),s=r(),c={length:{label:`길이`,units:{m:`미터 (m)`,cm:`센티미터 (cm)`,mm:`밀리미터 (mm)`,km:`킬로미터 (km)`,in:`인치 (in)`,ft:`피트 (ft)`,yd:`야드 (yd)`,mi:`마일 (mi)`},rates:{m:1,cm:100,mm:1e3,km:.001,in:39.3701,ft:3.28084,yd:1.09361,mi:621371e-9}},area:{label:`면적`,units:{m2:`제곱미터 (m²)`,py:`평`,ft2:`제곱피트 (sq ft)`,ac:`에이커 (ac)`},rates:{m2:1,py:.3025,ft2:10.7639,ac:247105e-9}},weight:{label:`무게`,units:{kg:`킬로그램 (kg)`,g:`그램 (g)`,lb:`파운드 (lb)`,oz:`온스 (oz)`},rates:{kg:1,g:1e3,lb:2.20462,oz:35.274}},currency:{label:`환율`,units:{KRW:`대한민국 원 (KRW)`,USD:`미국 달러 (USD)`,JPY:`일본 엔 (JPY)`,EUR:`유로 (EUR)`,CNY:`중국 위안 (CNY)`},rates:{USD:1,KRW:1445,JPY:155,EUR:.85,CNY:7.02}}};function l({gridSize:t}){let n=t?t.w===1:!1,r=t?t.h===1:!1,[l,u]=i(`widget-unit-converter`,{category:`length`,fromUnit:`m`,toUnit:`cm`}),d=l.category,f=l.fromUnit,p=l.toUnit,m=e=>u({...l,fromUnit:e}),h=e=>u({...l,toUnit:e}),[g,_]=(0,o.useState)(`1`),[v,y]=(0,o.useState)(``),[b,x]=(0,o.useState)(c.length.rates),[S,C]=(0,o.useState)(null),w=async()=>{let e=localStorage.getItem(`exchange_rates_cache`);if(e){let{timestamp:t,data:n}=JSON.parse(e);if(Date.now()-t<720*60*1e3){x(n.conversion_rates),C(new Date(t).toLocaleTimeString());return}}x(c.currency.rates)},T=(e,t,n)=>{let r=parseFloat(e);if(isNaN(r)){y(``);return}if(!b[t]||!b[n])return;let i=r/b[t]*b[n];y(parseFloat(i.toFixed(6)).toString())},E=e=>{let t=c[e],n=Object.keys(t.units);u({category:e,fromUnit:n[0],toUnit:n[1]||n[0]}),e===`currency`?w():(x(t.rates),C(null))};(0,o.useEffect)(()=>{d===`currency`&&w()},[]),(0,o.useEffect)(()=>{T(g,f,p)},[g,f,p,b]);let D=()=>{let e=f;m(p),h(e),_(v)};return r&&!n?(0,s.jsxs)(`div`,{className:`h-full flex flex-col px-4 py-3 theme-bg-card rounded-xl shadow-sm border theme-border overflow-hidden`,children:[(0,s.jsx)(`div`,{className:`flex gap-2 overflow-x-auto pb-1 mb-2 scrollbar-hide`,children:Object.entries(c).map(([e,t])=>(0,s.jsx)(`button`,{onClick:()=>E(e),className:`px-2.5 py-1 rounded-full text-[10px] font-bold whitespace-nowrap transition-colors flex-shrink-0
                                ${d===e?`theme-bg-primary text-white`:`theme-bg-card-secondary theme-text-secondary hover:theme-text-primary`}`,children:t.label},e))}),(0,s.jsxs)(`div`,{className:`flex-1 flex items-center gap-2`,children:[(0,s.jsx)(`div`,{className:`flex-1 min-w-0`,children:(0,s.jsxs)(`div`,{className:`flex items-center gap-1.5 border-b border-[var(--border-color)] p-1.5 focus-within:border-[var(--btn-bg)] transition-colors`,children:[(0,s.jsx)(`input`,{type:`number`,value:g,onChange:e=>_(e.target.value),className:`flex-1 bg-transparent text-sm font-mono outline-none theme-text-primary w-full min-w-0`}),(0,s.jsx)(`select`,{value:f,onChange:e=>m(e.target.value),className:`bg-transparent theme-text-secondary text-xs font-bold outline-none border-none py-0 max-w-[50px] text-right`,children:Object.entries(c[d].units).map(([e])=>(0,s.jsx)(`option`,{value:e,className:`text-gray-900 dark:text-gray-100`,children:e},e))})]})}),(0,s.jsx)(`button`,{onClick:D,className:`p-1.5 rounded-full theme-bg-card border theme-border shadow-sm hover:scale-110 transition-transform theme-text-secondary hover:theme-text-primary flex-shrink-0`,children:(0,s.jsx)(e,{size:12})}),(0,s.jsx)(`div`,{className:`flex-1 min-w-0`,children:(0,s.jsxs)(`div`,{className:`flex items-center gap-1.5 border-b border-[var(--border-color)] p-1.5`,children:[(0,s.jsx)(`input`,{type:`text`,readOnly:!0,value:v,className:`flex-1 bg-transparent text-sm font-mono outline-none theme-text-primary w-full min-w-0`}),(0,s.jsx)(`select`,{value:p,onChange:e=>h(e.target.value),className:`bg-transparent theme-text-secondary text-xs font-bold outline-none border-none py-0 max-w-[50px] text-right`,children:Object.entries(c[d].units).map(([e])=>(0,s.jsx)(`option`,{value:e,className:`text-gray-900 dark:text-gray-100`,children:e},e))})]})})]})]}):(0,s.jsxs)(`div`,{className:`h-full flex flex-col p-4 theme-bg-card rounded-xl shadow-sm border theme-border overflow-hidden`,children:[(0,s.jsx)(`div`,{className:`flex gap-2 mb-4 scrollbar-hide ${n?`overflow-x-auto pb-1`:`overflow-x-auto pb-2`}`,children:Object.entries(c).map(([e,t])=>(0,s.jsx)(`button`,{onClick:()=>E(e),className:`px-3 py-1.5 rounded-full text-xs font-bold whitespace-nowrap transition-colors flex-shrink-0
                            ${d===e?`theme-bg-primary text-white`:`theme-bg-card-secondary theme-text-secondary hover:theme-text-primary`}`,children:t.label},e))}),(0,s.jsxs)(`div`,{className:`flex-1 flex ${n?`flex-col gap-2`:`flex-col gap-4 justify-center`}`,children:[(0,s.jsxs)(`div`,{className:`relative group`,children:[(0,s.jsx)(`label`,{className:`text-[10px] theme-text-secondary mb-1 block font-bold uppercase tracking-wider`,children:`From`}),(0,s.jsxs)(`div`,{className:`flex ${n?`flex-col`:`flex-row`} gap-2`,children:[(0,s.jsx)(`input`,{type:`number`,value:g,onChange:e=>_(e.target.value),className:`flex-1 theme-bg-input rounded-lg px-3 py-2 text-lg font-mono outline-none focus:ring-2 ring-[var(--btn-bg)] transition-all theme-text-primary w-full`}),(0,s.jsx)(`select`,{value:f,onChange:e=>m(e.target.value),className:`${n?`w-full text-left bg-transparent border-b`:`w-24 text-right bg-transparent border-b-2`} theme-text-primary text-sm font-bold outline-none border-transparent focus:border-[var(--btn-bg)] transition-colors py-1`,children:Object.entries(c[d].units).map(([e])=>(0,s.jsx)(`option`,{value:e,className:`text-gray-900 dark:text-gray-100`,children:e},e))})]})]}),(0,s.jsx)(`div`,{className:`flex justify-center z-10 ${n?`py-1`:`-my-2`}`,children:(0,s.jsx)(`button`,{onClick:D,className:`p-2 rounded-full theme-bg-card border theme-border shadow-sm hover:scale-110 transition-transform theme-text-secondary hover:theme-text-primary`,children:n?(0,s.jsx)(a,{size:14}):(0,s.jsx)(e,{size:16})})}),(0,s.jsxs)(`div`,{className:`relative group`,children:[(0,s.jsx)(`label`,{className:`text-[10px] theme-text-secondary mb-1 block font-bold uppercase tracking-wider`,children:`To`}),(0,s.jsxs)(`div`,{className:`flex ${n?`flex-col`:`flex-row`} gap-2`,children:[(0,s.jsx)(`input`,{type:`text`,readOnly:!0,value:v,className:`flex-1 theme-bg-card-secondary rounded-lg px-3 py-2 text-lg font-mono outline-none theme-text-primary w-full`}),(0,s.jsx)(`select`,{value:p,onChange:e=>h(e.target.value),className:`${n?`w-full text-left bg-transparent border-b`:`w-24 text-right bg-transparent border-b-2`} theme-text-primary text-sm font-bold outline-none border-transparent focus:border-[var(--btn-bg)] transition-colors py-1`,children:Object.entries(c[d].units).map(([e])=>(0,s.jsx)(`option`,{value:e,className:`text-gray-900 dark:text-gray-100`,children:e},e))})]})]}),d===`currency`&&!n&&(0,s.jsx)(`div`,{className:`text-[10px] theme-text-secondary text-center mt-2`,children:S?`Updated: ${S}`:`Standard Rates`})]})]})}export{l as UnitConverter};