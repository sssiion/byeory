import{t as e}from"./SharedController-C6uhZVoO.js";import{At as t,Dt as n,Nt as r,Ot as i,V as a,jt as o,z as s}from"./index-D5xtHDuG.js";import"./Shared-CEi_3vw0.js";import{n as c}from"./SDK-CcB7I40a.js";var l=i(`box`,[[`path`,{d:`M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z`,key:`hh9hay`}],[`path`,{d:`m3.3 7 8.7 5 8.7-5`,key:`g66t2b`}],[`path`,{d:`M12 22V12`,key:`d0xqtd`}]]),u=r(o(),1),d=t(),f=s(),p=({multiplier:e})=>{let t=(0,u.useRef)(0),n=(0,u.useRef)({x:-1e3,y:-1e3});return(0,u.useEffect)(()=>{let r=e=>{n.current={x:e.clientX,y:e.clientY}},i=()=>{let r=document.querySelectorAll(`.global-physics-widget`),{x:a,y:o}=n.current;r.forEach(t=>{let n=t.getBoundingClientRect(),r=n.left+n.width/2,i=n.top+n.height/2,s=Math.sqrt((a-r)**2+(o-i)**2);if(s<500){let n=1-s/500,r=e*15*n,i=(Math.random()-.5)*r,a=(Math.random()-.5)*r,o=(Math.random()-.5)*r*.5;t.style.transform=`translate(${i}px, ${a}px) rotate(${o}deg)`}else t.style.transform&&(t.style.transform=``)}),t.current=requestAnimationFrame(i)};return window.addEventListener(`mousemove`,r),i(),()=>{window.removeEventListener(`mousemove`,r),cancelAnimationFrame(t.current),document.querySelectorAll(`.global-physics-widget`).forEach(e=>{e.style.transform=``})}},[e]),null};const m=({className:t,style:r,gridSize:i})=>{let[o,s]=(0,u.useState)(!1),[m,h]=c(`widget-physics-box`,{multiplier:.5}),g=(e,t)=>{h({...m,[e]:t})};return(0,f.jsx)(e,{className:t,style:r,label:`물리 상자`,icon:(0,f.jsx)(l,{size:20}),storageKey:`effect-physics-box`,onSettingsClick:()=>s(!0),children:(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(p,{multiplier:m.multiplier}),o&&(0,d.createPortal)((0,f.jsx)(`div`,{className:`fixed inset-0 z-[10000] flex items-center justify-center bg-black/50`,onClick:()=>s(!1),children:(0,f.jsxs)(`div`,{className:`bg-white rounded-2xl p-6 w-[320px] shadow-2xl animate-scale-in`,onClick:e=>e.stopPropagation(),children:[(0,f.jsxs)(`div`,{className:`flex justify-between items-center mb-6`,children:[(0,f.jsxs)(`h3`,{className:`text-lg font-bold text-gray-800 flex items-center gap-2`,children:[(0,f.jsx)(n,{className:`text-orange-500`}),`Physics Settings`]}),(0,f.jsx)(`button`,{onClick:()=>s(!1),className:`text-gray-400 hover:text-gray-600`,children:(0,f.jsx)(a,{size:20})})]}),(0,f.jsx)(`div`,{className:`space-y-6`,children:(0,f.jsxs)(`div`,{children:[(0,f.jsxs)(`div`,{className:`flex justify-between mb-2`,children:[(0,f.jsx)(`span`,{className:`text-sm font-medium text-gray-700`,children:`Shake Force (Intensity)`}),(0,f.jsx)(`span`,{className:`text-sm font-bold text-blue-600`,children:(m.multiplier*10).toFixed(0)})]}),(0,f.jsx)(`input`,{type:`range`,min:`1`,max:`10`,step:`1`,value:m.multiplier*10,onChange:e=>g(`multiplier`,parseFloat(e.target.value)/10),className:`w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500`})]})}),(0,f.jsx)(`div`,{className:`mt-6 pt-4 border-t border-gray-100 flex justify-end`,children:(0,f.jsx)(`button`,{onClick:()=>s(!1),className:`px-4 py-2 bg-gray-900 text-white rounded-lg text-sm font-medium hover:bg-black transition-colors`,children:`Done`})})]})}),document.body)]})})};export{m as PhysicsBox};