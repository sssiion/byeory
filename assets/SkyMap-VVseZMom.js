import{jt as e,z as t}from"./index-D5xtHDuG.js";import"./Shared-CEi_3vw0.js";import{t as n}from"./Common-_aDISHwp.js";var r=e(),i=t(),a=[{name:`Ursa Major`,points:[{x:-60,y:-20},{x:-30,y:-10},{x:0,y:0},{x:10,y:30},{x:50,y:40},{x:60,y:10},{x:30,y:-5}],connections:[[0,1],[1,2],[2,6],[6,3],[3,4],[4,5],[5,6]],artPath:(e,t,n,r)=>{e.beginPath(),e.ellipse(t+20*r,n+10*r,40*r,30*r,0,0,Math.PI*2),e.stroke()}},{name:`Orion`,points:[{x:-20,y:-50},{x:20,y:-55},{x:-5,y:-5},{x:0,y:0},{x:5,y:5},{x:-25,y:40},{x:25,y:35}],connections:[[0,2],[1,4],[2,3],[3,4],[2,5],[4,6],[0,1],[5,6]],artPath:(e,t,n,r)=>{e.beginPath(),e.moveTo(t-20*r,n-50*r),e.lineTo(t+20*r,n-55*r),e.lineTo(t,n),e.lineTo(t-25*r,n+40*r),e.stroke()}},{name:`Cassiopeia`,points:[{x:-50,y:-20},{x:-20,y:10},{x:0,y:-10},{x:20,y:10},{x:50,y:-20}],connections:[[0,1],[1,2],[2,3],[3,4]],artPath:(e,t,n,r)=>{e.beginPath(),e.moveTo(t-50*r,n-20*r),e.lineTo(t-20*r,n+10*r),e.lineTo(t,n-10*r),e.lineTo(t+20*r,n+10*r),e.lineTo(t+50*r,n-20*r),e.stroke()}}];function o({gridSize:e}){let t=(0,r.useRef)(null),[o,s]=(0,r.useState)(0),c=e?.w||1,l=e?.h||1,u=c>=2,d=c>=3||c===2&&l>=2;return(0,r.useEffect)(()=>{if(!u)return;let e=setInterval(()=>{s(e=>(e+1)%a.length)},5e3);return()=>clearInterval(e)},[u]),(0,r.useEffect)(()=>{let e=t.current;if(!e)return;let n=e.getContext(`2d`);if(!n)return;let r=()=>{let t=e.parentElement;t&&(e.width=t.clientWidth,e.height=t.clientHeight,i())},i=()=>{if(!n)return;n.clearRect(0,0,e.width,e.height);let t=e.width,r=e.height,i=n.createLinearGradient(0,0,0,r);i.addColorStop(0,`#020617`),i.addColorStop(1,`#0f172a`),n.fillStyle=i,n.fillRect(0,0,t,r);let s=d?150:u?100:40;n.fillStyle=`#ffffff`;for(let e=0;e<s;e++){let e=Math.random()*t,i=Math.random()*r,a=Math.random()*1.5;n.globalAlpha=Math.random(),n.beginPath(),n.arc(e,i,a,0,Math.PI*2),n.fill()}n.globalAlpha=1;let c=n.createRadialGradient(t/2,r,r*.4,t/2,r,r*1.2);if(c.addColorStop(0,`rgba(0,0,0,0)`),c.addColorStop(1,`rgba(0,0,0,0.6)`),n.fillStyle=c,n.fillRect(0,0,t,r),u){let e=a[o];n.strokeStyle=`rgba(255, 255, 255, 0.4)`,n.lineWidth=1;let i=t/2,s=r/2,c=Math.min(t,r)/(d?250:200);n.beginPath(),e.connections.forEach(([t,r])=>{let a=e.points[t],o=e.points[r];a&&o&&(n.moveTo(i+a.x*c,s+a.y*c),n.lineTo(i+o.x*c,s+o.y*c))}),n.stroke(),e.points.forEach(e=>{let t=i+e.x*c,r=s+e.y*c;n.save(),n.fillStyle=`#fff`,n.shadowBlur=6,n.shadowColor=`#fff`,n.beginPath(),n.arc(t,r,3,0,Math.PI*2),n.fill(),n.restore()}),d&&(e.artPath&&(n.save(),n.strokeStyle=`rgba(255, 215, 0, 0.15)`,n.lineWidth=15*c,n.lineCap=`round`,n.lineJoin=`round`,e.artPath(n,i,s,c),n.restore()),n.save(),n.fillStyle=`rgba(255, 215, 0, 0.8)`,n.font=`italic 700 ${14*c}px serif`,n.textAlign=`center`,n.fillText(e.name,i,s+90*c),n.restore())}};return r(),window.addEventListener(`resize`,r),()=>window.removeEventListener(`resize`,r)},[u,d,o]),(0,i.jsx)(n,{className:`bg-black border-slate-800 overflow-hidden relative`,children:(0,i.jsxs)(`div`,{className:`w-full h-full relative group`,children:[(0,i.jsx)(`canvas`,{ref:t,className:`w-full h-full`}),u&&(0,i.jsx)(`div`,{className:`absolute top-2 right-2 flex gap-1`,children:a.map((e,t)=>(0,i.jsx)(`div`,{className:`w-1.5 h-1.5 rounded-full transition-colors ${t===o?`bg-white`:`bg-white/20`}`},t))}),(0,i.jsx)(`div`,{className:`absolute bottom-3 right-4 text-[10px] text-slate-400 font-mono opacity-0 group-hover:opacity-100 transition-opacity`,children:d?`AUTO ROTATION ON`:`NORTH`})]})})}export{o as SkyMap};