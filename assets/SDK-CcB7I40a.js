import{jt as e}from"./index-D5xtHDuG.js";var t=e();function n(e,n){let[r,i]=(0,t.useState)(()=>{if(typeof window>`u`)return n;try{let t=window.localStorage.getItem(e);return t?JSON.parse(t):n}catch(t){return console.warn(`Error reading localStorage key "${e}":`,t),n}});return(0,t.useEffect)(()=>{let t=t=>{if(t.key===e&&t.newValue!==null)try{i(JSON.parse(t.newValue))}catch(t){console.warn(`Error parsing storage change for key "${e}":`,t)}};return window.addEventListener(`storage`,t),()=>window.removeEventListener(`storage`,t)},[e]),[r,t=>{try{let n=t instanceof Function?t(r):t;i(n),typeof window<`u`&&window.localStorage.setItem(e,JSON.stringify(n))}catch(t){console.warn(`Error setting localStorage key "${e}":`,t)}}]}function r(e,n){let r=(0,t.useRef)(e);(0,t.useEffect)(()=>{r.current=e},[e]),(0,t.useEffect)(()=>{if(n!==null){let e=setInterval(()=>r.current(),n);return()=>clearInterval(e)}},[n])}export{n,r as t};