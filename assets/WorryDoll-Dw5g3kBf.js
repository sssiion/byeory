import{ct as e,jt as t,z as n}from"./index-D5xtHDuG.js";import"./Shared-CEi_3vw0.js";import{n as r}from"./SDK-CcB7I40a.js";import{t as i}from"./Common-_aDISHwp.js";var a=t(),o=n();function s({gridSize:t}){let[n,s]=(0,a.useState)(``),[c,l]=r(`widget-worry-doll-val`,null),u=!!c,d=(0,a.useRef)(null),f=()=>{n.trim()&&(l(n),s(``))},p=()=>{l(null)},m=t?.w||2,h=t?.h||2,g=m===1&&h===1,_=m>=2&&h===1,v=m>=2&&h>=2,y=_?`flex-row gap-4 px-6`:`flex-col gap-2 p-3`,b=g?.65:v?1.2:1,x=g||_?`mb-0`:`mb-2`,S=g?`h-10 text-[10px]`:v?`h-24 text-sm`:`h-20 text-xs`,C=!g;return(0,o.jsxs)(i,{className:`bg-[#fdfbf7] border-none p-0 relative overflow-hidden flex items-center justify-center`,children:[(0,o.jsx)(`div`,{className:`absolute inset-0 opacity-20 bg-[url('https://www.transparenttextures.com/patterns/fabric-of-squares.png')] pointer-events-none`}),(0,o.jsxs)(`div`,{className:`relative z-10 flex items-center justify-center w-full h-full ${y}`,children:[(0,o.jsx)(`div`,{className:`transition-all duration-500 flex-shrink-0 flex flex-col items-center justify-center ${x}`,style:{transform:`scale(${b})`},children:(0,o.jsxs)(`svg`,{width:`60`,height:`80`,viewBox:`0 0 60 80`,className:`drop-shadow-md`,children:[(0,o.jsx)(`rect`,{x:`15`,y:`30`,width:`30`,height:`40`,rx:`4`,fill:u?`#f97316`:`#fed7aa`}),(0,o.jsx)(`path`,{d:`M15,30 L45,30 L40,70 L20,70 Z`,fill:u?`#ea580c`:`#fdba74`}),(0,o.jsx)(`circle`,{cx:`30`,cy:`20`,r:`14`,fill:`#ffedd5`,stroke:`#fb923c`,strokeWidth:`2`}),(0,o.jsx)(`circle`,{cx:`25`,cy:`18`,r:`1.5`,fill:`#431407`}),(0,o.jsx)(`circle`,{cx:`35`,cy:`18`,r:`1.5`,fill:`#431407`}),u?(0,o.jsx)(`path`,{d:`M26,24 Q30,28 34,24`,stroke:`#431407`,fill:`none`,strokeWidth:`1.5`}):(0,o.jsx)(`path`,{d:`M28,24 L32,24`,stroke:`#431407`,strokeWidth:`1.5`}),u&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(`path`,{d:`M10,40 Q20,50 30,45`,stroke:`#f97316`,strokeWidth:`4`,strokeLinecap:`round`,fill:`none`}),(0,o.jsx)(`path`,{d:`M50,40 Q40,50 30,45`,stroke:`#f97316`,strokeWidth:`4`,strokeLinecap:`round`,fill:`none`}),(0,o.jsx)(`rect`,{x:`24`,y:`38`,width:`12`,height:`10`,fill:`white`,stroke:`#ccc`,transform:`rotate(-5 30 43)`})]})]})}),u?(0,o.jsxs)(`div`,{className:`text-center animate-fade-in ${_?`text-left flex-1`:``}`,children:[C&&(0,o.jsxs)(`p`,{className:`text-sm text-stone-600 dark:text-stone-400 font-medium mb-2 leading-tight`,children:[`"I'll keep this`,(0,o.jsx)(`br`,{}),`worry for you."`]}),(0,o.jsx)(`button`,{onClick:p,className:`bg-stone-200 dark:bg-stone-800 hover:bg-stone-300 dark:hover:bg-stone-700 text-stone-700 dark:text-stone-300 rounded-full transition-colors whitespace-nowrap shadow-sm ${g?`text-[10px] px-2 py-1`:`text-xs px-3 py-1.5`}`,children:g?`I'm okay`:`Thanks, I'm okay`})]}):(0,o.jsxs)(`div`,{className:`relative ${_?`flex-1 h-20`:`w-full max-w-[200px]`}`,children:[(0,o.jsx)(`textarea`,{ref:d,value:n,onChange:e=>s(e.target.value),placeholder:g?`Worry...`:`Tell me your worry...`,className:`w-full p-2 bg-white dark:bg-stone-800 border border-stone-200 dark:border-stone-700 rounded-lg resize-none focus:outline-none focus:border-orange-300 shadow-sm theme-text-primary ${S}`}),(0,o.jsx)(`button`,{onClick:f,disabled:!n.trim(),className:`absolute bottom-1.5 right-1.5 p-1 bg-orange-100 dark:bg-orange-900 rounded-full text-orange-600 dark:text-orange-300 hover:bg-orange-200 dark:hover:bg-orange-800 disabled:opacity-50 transition-colors ${g?`scale-75`:``}`,children:(0,o.jsx)(e,{size:14})})]})]})]})}export{s as WorryDoll};