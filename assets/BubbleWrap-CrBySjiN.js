import{jt as e,z as t}from"./index-D5xtHDuG.js";import"./Shared-CEi_3vw0.js";import{t as n}from"./Common-_aDISHwp.js";var r=e(),i=t();function a(){let[e,t]=(0,r.useState)(new Set),[a,o]=(0,r.useState)({width:0,height:0}),s=(0,r.useRef)(null);(0,r.useLayoutEffect)(()=>{if(!s.current)return;let e=()=>{let e=s.current;if(e){let{offsetWidth:t,offsetHeight:n}=e;o(e=>e.width===t&&e.height===n?e:{width:t,height:n})}};e();let t=new ResizeObserver(()=>e());return t.observe(s.current),()=>t.disconnect()},[]);let{count:c}=(0,r.useMemo)(()=>{let e=a.width||400,t=a.height||400,n=Math.floor((e+8)/40),r=Math.floor((t+8)/40);return{count:Math.max(1,n)*Math.max(1,r)}},[a]),l=n=>{if(!e.has(n)){let r=new Set(e);r.add(n),t(r)}},u=(0,r.useMemo)(()=>{if(c===0)return!1;for(let t=0;t<c;t++)if(!e.has(t))return!1;return!0},[c,e]);return(0,i.jsxs)(n,{className:`bg-blue-50/50 p-2 overflow-hidden flex flex-col h-full relative !items-stretch !justify-start`,children:[(0,i.jsx)(`div`,{ref:s,className:`w-full h-full min-h-0 grid gap-2 content-start overflow-y-auto`,style:{gridTemplateColumns:`repeat(auto-fill, minmax(32px, 1fr))`},children:Array.from({length:c}).map((t,n)=>(0,i.jsx)(`button`,{onClick:()=>l(n),className:`aspect-square rounded-full shadow-inner border transition-all w-full ${e.has(n)?`bg-transparent border-blue-100 scale-90`:`bg-gradient-to-br from-blue-100 to-blue-200 border-blue-300 hover:scale-105 active:scale-95`}`},n))}),u&&(0,i.jsxs)(`div`,{className:`absolute inset-0 bg-white/80 backdrop-blur-sm flex flex-col items-center justify-center z-10 animate-fade-in p-4 text-center`,children:[(0,i.jsx)(`div`,{className:`text-xl font-bold text-blue-600 mb-2 break-keep`,children:`ê³ ìƒí•˜ì…¨ìŠµë‹ˆë‹¤! ðŸŽ‰`}),(0,i.jsx)(`button`,{onClick:()=>{t(new Set)},className:`px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors shadow-md text-sm whitespace-nowrap`,children:`ë‹¤ì‹œ í•˜ê¸°`})]})]})}export{a as BubbleWrap};