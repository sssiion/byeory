import{H as e,R as t,at as n,jt as r,kt as i,z as a}from"./index-D5xtHDuG.js";var o=r(),s=a();function c({gridSize:r,isStickerMode:a}){let{user:c}=t(),l=i(),u=new Date().getHours(),d=u<12?`좋은 아침입니다`:u<18?`오늘 하루 어떠신가요`:`편안한 밤 되세요`,[f,p]=(0,o.useState)(``);(0,o.useEffect)(()=>{(async()=>{try{let e=localStorage.getItem(`accessToken`);if(!e)return;let t=await fetch(`/api/user/profile`,{headers:{Authorization:`Bearer ${e}`}});if(t.ok){let e=await t.json();e.nickname&&p(e.nickname)}}catch(e){console.error(`Failed to fetch nickname`,e)}})()},[]);let m=f||(c?.email?c.email.split(`@`)[0]:``),h=()=>{window.dispatchEvent(new CustomEvent(`open-settings-modal`,{detail:{view:`theme`}}))};if((r?.w||2)<2&&(r?.h||2)<2)return(0,s.jsxs)(`div`,{className:`h-full w-full flex flex-col items-center justify-center p-2 bg-white/80 backdrop-blur-sm rounded-2xl border border-white/20 shadow-sm overflow-hidden text-center cursor-pointer hover:bg-white transition-colors`,onClick:()=>!a&&l(`/profile`),children:[(0,s.jsx)(`span`,{className:`text-[10px] text-gray-400 font-bold uppercase mb-0.5 tracking-wider`,children:`HELLO`}),(0,s.jsx)(`span`,{className:`text-sm font-bold text-blue-500 truncate max-w-full leading-tight`,children:m})]});let g=(r?.h||2)<2;return(0,s.jsxs)(`div`,{className:`h-full flex flex-col justify-between ${g?`p-4`:`p-6`} bg-white/80 backdrop-blur-sm rounded-2xl border border-white/20 shadow-sm overflow-hidden relative group`,children:[(0,s.jsx)(`div`,{className:`absolute top-[-50%] right-[-50%] w-full h-full bg-gradient-to-br from-blue-100/50 to-purple-100/50 rounded-full blur-3xl group-hover:scale-110 transition-transform duration-700 pointer-events-none`}),(0,s.jsxs)(`div`,{className:`relative z-10`,children:[(0,s.jsx)(`div`,{className:`flex items-center gap-2 mb-2`,children:(0,s.jsx)(`span`,{className:`px-2 py-0.5 rounded-full bg-blue-50 text-blue-600 text-[10px] font-bold tracking-wider uppercase`,children:`Welcome`})}),(0,s.jsxs)(`h1`,{className:`font-bold text-gray-800 leading-tight ${g?`text-lg`:`text-2xl`}`,children:[d,`,`,(0,s.jsx)(`br`,{}),(0,s.jsx)(`span`,{className:`text-blue-500`,children:m}),`님!`]})]}),(0,s.jsxs)(`div`,{className:`flex gap-2 relative z-10 ${g?`mt-2`:`mt-4`}`,children:[(0,s.jsxs)(`button`,{onClick:()=>!a&&l(`/profile`),className:`flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-white border border-gray-100 rounded-xl hover:bg-gray-50 hover:border-gray-200 transition-all shadow-sm text-sm font-medium text-gray-600 group/btn`,children:[(0,s.jsx)(e,{size:14,className:`text-gray-400 group-hover/btn:text-blue-500 transition-colors`}),!g&&`프로필`]}),(0,s.jsxs)(`button`,{onClick:()=>!a&&h(),className:`flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-white border border-gray-100 rounded-xl hover:bg-gray-50 hover:border-gray-200 transition-all shadow-sm text-sm font-medium text-gray-600 group/btn`,children:[(0,s.jsx)(n,{size:14,className:`text-gray-400 group-hover/btn:text-purple-500 transition-colors`}),!g&&`테마`]})]})]})}export{c as WelcomeWidget};